WEBVTT
Kind: captions
Language: zh-CN

00:00:00.420 --> 00:00:04.950
回想下第一课 我曾跟大家讲过主键的概念

00:00:04.950 --> 00:00:05.610
它是

00:00:05.610 --> 00:00:10.030
对表格中任何对象进行唯一标识的一列或几列

00:00:10.030 --> 00:00:11.940
还记得美国城市与州的组合不具有唯一性吧

00:00:11.940 --> 00:00:16.309
因为威斯康星州有五个 Springfield

00:00:16.309 --> 00:00:17.820
如果我们想把地方作为主键

00:00:17.820 --> 00:00:22.160
我们就需要使用邮政编码或坐标之类的东西

00:00:22.160 --> 00:00:26.300
在 SQL 中 如果我们希望把它与其它表格进行关联

00:00:26.300 --> 00:00:29.050
我们需要告诉数据库某样东西是主键

00:00:29.050 --> 00:00:30.790
下面是实现方法

00:00:30.790 --> 00:00:33.420
如果你的主键只有一列

00:00:33.420 --> 00:00:38.730
在创建表格时 你只需要把主键放在列的类型的后面

00:00:38.730 --> 00:00:42.140
如果你有一个多列主键

00:00:42.140 --> 00:00:45.010
你把它放在表格中所有列之后

00:00:45.010 --> 00:00:48.710
例如 全球的邮政编码不一定是唯一的

00:00:48.710 --> 00:00:51.990
因为两个不同的国家可能使用类似的编号系统

00:00:51.990 --> 00:00:57.010
美国、德国和印尼以及其它国家都使用五位数字的邮政编码

00:00:57.010 --> 00:01:00.020
这意味着 如果我们想要一个可以收到邮寄包裹的地区表格 

00:01:00.020 --> 00:01:03.580
我们会希望同时包含邮政编码和国家名称

00:01:03.580 --> 00:01:06.440
作为主键的构成部分

00:01:06.440 --> 00:01:10.230
记住 主键必须是一行所指事物的

00:01:10.230 --> 00:01:11.800
唯一标识

00:01:11.800 --> 00:01:14.040
如果你试图在一个主键列中插入一个重复值

00:01:14.040 --> 00:01:18.070
你认为 SQL 数据库会做什么？

00:01:18.070 --> 00:01:20.130
实际上 让我们把这个问题做成一个小测验

00:01:20.130 --> 00:01:23.310
当用户要求数据库再插入一个学生

00:01:23.310 --> 00:01:27.000
这个学生的 ID 号与另一个学生相同 数据库会怎么做？

00:01:27.000 --> 00:01:29.410
换句话说 就是插入一个重复值

00:01:29.410 --> 00:01:32.140
它会插入这一行吗？

00:01:32.140 --> 00:01:35.650
它像 Python 中的异常处理那样报错吗？

00:01:35.650 --> 00:01:38.620
它会默默删除这新插入的一行呢？

00:01:38.620 --> 00:01:40.250
还是重写原来的那行？

