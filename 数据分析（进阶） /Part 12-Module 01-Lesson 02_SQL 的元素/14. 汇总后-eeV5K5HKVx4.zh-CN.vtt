WEBVTT
Kind: captions
Language: zh-CN

00:00:00.270 --> 00:00:03.350
动物园中 哪个物种只有一只动物？

00:00:03.350 --> 00:00:05.980
这看起来是个很简单明了的查询

00:00:05.980 --> 00:00:08.920
但你不能像这样回答

00:00:08.920 --> 00:00:11.380
原因是

00:00:11.380 --> 00:00:16.890
在执行 count 操作前使用 Where 语句作用于下面的行

00:00:16.890 --> 00:00:20.030
动物表格中 没有 num 列

00:00:20.030 --> 00:00:22.350
而且你不能在 group by 后面使用 where

00:00:22.350 --> 00:00:27.650
如果你尝试这样查询 会发生很大错误

00:00:27.650 --> 00:00:32.250
但我们只改动一个语句 就可得出正确结果 利用 where 对源动物表格

00:00:32.250 --> 00:00:36.170
进行筛选 而 having 对结果表格进行筛选

00:00:36.170 --> 00:00:39.100
因此 having 在 group by 聚合函数后面使用

00:00:39.100 --> 00:00:41.130
我们将得出正确答案

00:00:41.130 --> 00:00:43.350
也有另外的方法来解答这道问题

00:00:43.350 --> 00:00:46.120
即使用一个更为复杂的查询类型 称为 subselect

00:00:46.120 --> 00:00:48.830
但这个方法很简单

00:00:48.830 --> 00:00:50.870
因此 现在有一个不同类型的问题和小测验

00:00:51.900 --> 00:00:55.100
哪种食物是只被一只动物吃的？

00:00:55.100 --> 00:00:59.060
不是只被一个物种吃 而是整个动物园里只有一只动物吃它？

00:00:59.060 --> 00:01:02.650
为了解答这个问题 你需要使用 having 

00:01:02.650 --> 00:01:03.880
和 Join 这两个子句 我们以前已经见过

