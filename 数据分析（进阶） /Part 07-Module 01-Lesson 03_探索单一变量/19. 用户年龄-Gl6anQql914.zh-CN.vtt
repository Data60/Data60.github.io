WEBVTT
Kind: captions
Language: zh-CN

00:00:00.170 --> 00:00:02.969
要创建用户年龄直方图 我们先从使用 qplot 函数开始

00:00:02.969 --> 00:00:06.273
我们向它传递变量年龄

00:00:06.273 --> 00:00:10.011
我们的数据集是伪 Facebook 即 PF

00:00:10.011 --> 00:00:13.749
我要使用颜色和填充参数来添加颜色 运行此代码

00:00:13.749 --> 00:00:16.733
可看到生成直方图 现在 你可以尝试多种间距

00:00:16.733 --> 00:00:19.426
在本例中 我认为组距为 1 就是最好的

00:00:19.426 --> 00:00:22.620
我们把它添加到这儿

00:00:22.620 --> 00:00:25.280
我选择组距为 1 这个值合乎情理 因为我们

00:00:25.280 --> 00:00:28.370
按年份或者年龄 这样就得到各个年份的

00:00:28.370 --> 00:00:31.340
用户数直方图

00:00:31.340 --> 00:00:35.010
我可以得到更精细的数据视图 比如 25 岁

00:00:35.010 --> 00:00:37.510
将组距设置为 1 

00:00:37.510 --> 00:00:41.030
可让我们更容易发现数据中不常见的尖峰

00:00:41.030 --> 00:00:44.380
就像这儿 这儿的点 当然还有这儿 我们放大这幅图

00:00:44.380 --> 00:00:47.280
仔细观察一下 我看到最大的尖峰

00:00:47.280 --> 00:00:50.300
位于大 20 多岁的中间 我们没有

00:00:50.300 --> 00:00:52.290
任何低于 13 岁的用户 在直方图的左侧

00:00:52.290 --> 00:00:55.570
这是有道理的 因为用户至少要 13 岁

00:00:55.570 --> 00:00:58.680
才能建立 Facebook 账户

00:00:58.680 --> 00:01:02.830
还有一些不常见的尖峰高于 100 我猜那是有些用户

00:01:02.830 --> 00:01:05.640
可能在夸大他们的年龄 你有哪位 Facebook 好友

00:01:05.640 --> 00:01:09.190
年龄在 100 岁或以上吗？当然我没有

00:01:09.190 --> 00:01:12.000
最后要做的评论是 你的 x 轴可能与我的稍微不同

00:01:12.000 --> 00:01:15.550
记住我们可以使用 scale_x_discrete  

00:01:15.550 --> 00:01:19.258
或者 scale_x_continuous 来改变这个外观

00:01:19.258 --> 00:01:21.725
这里我添加 scale_x_discrete 可设置断开

00:01:21.725 --> 00:01:25.070
这样就从 0 到 113

00:01:25.070 --> 00:01:29.340
增量为每 5 个单位 或者每五年

00:01:29.340 --> 00:01:32.300
现在你可能怀疑我为何在这里选择 113

00:01:32.300 --> 00:01:34.990
我的答案很简单 只是用了我们的用户数据集中的最大年龄

00:01:34.990 --> 00:01:37.460
记住 在该变量上运行汇总

00:01:37.460 --> 00:01:40.570
即可得到这个数字

00:01:40.570 --> 00:01:44.621
我可以看到最小年龄是 13 最大年龄是 113

