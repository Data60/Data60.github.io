WEBVTT
Kind: captions
Language: zh-CN

00:00:00.390 --> 00:00:03.850
你的任务是在一个输出图上创建三个直方图

00:00:03.850 --> 00:00:06.950
要完成这个工作 需要安装 grid extra 程序包

00:00:06.950 --> 00:00:10.960
并将其加载到 R Studio 内

00:00:10.960 --> 00:00:12.860
完成后 就只是分别创建三个直方图的事情了

00:00:12.860 --> 00:00:16.910
将其保存为三个变量 我为要创建的每幅图 

00:00:16.910 --> 00:00:19.130
分别使用 p1 p2 和 p3 

00:00:19.130 --> 00:00:22.290
现在 第一个直方图与以前相同 

00:00:22.290 --> 00:00:25.610
我们只是得到 friend_count 传递给 x 以及 pf 传递给 data

00:00:25.610 --> 00:00:29.630
对于第二个直方图 我们取 friend_count 的常用对数

00:00:29.630 --> 00:00:31.930
记住要先加上 1 这样就不会得到

00:00:31.930 --> 00:00:35.760
任何未定义的结果 最后对于第三个直方图 我们只是取

00:00:35.760 --> 00:00:38.540
好友数的平方根 现在运行所有这三行代码

00:00:38.540 --> 00:00:41.530
可看到创建了三个新变量保存每幅图

00:00:41.530 --> 00:00:44.460
现在 我只需要将每幅图

00:00:44.460 --> 00:00:47.469
传递给网点排列 设置 end col

00:00:47.469 --> 00:00:51.360
等于 1 由于我对所有直方图只需要一列

00:00:51.360 --> 00:00:53.460
运行代码 可以看到我获得全部

00:00:53.460 --> 00:00:57.840
三个直方图 这是三幅图的近照

00:00:57.840 --> 00:01:00.790
注意到第二幅图要好得多 因为我们得到正态化的分布

00:01:00.790 --> 00:01:03.090
平方根转换

00:01:03.090 --> 00:01:04.849
也好于无转换

00:01:04.849 --> 00:01:06.740
因为没有那么多的长尾

00:01:06.740 --> 00:01:09.730
我们仍有长尾 只是因为转换了变量 

00:01:09.730 --> 00:01:13.070
好友数低了很多 倾斜没有以前那么糟

00:01:13.070 --> 00:01:16.420
现在还可以通过使用不同类型的语法

00:01:16.420 --> 00:01:20.120
创建完全相同的三个直方图

00:01:20.120 --> 00:01:23.210
这个语法开始时有点复杂

00:01:23.210 --> 00:01:24.960
但我要让你现在预览一下

00:01:24.960 --> 00:01:27.480
因为你将在以后的课程中看到 这次我们将使用

00:01:27.480 --> 00:01:31.470
ggplot 语法来创建直方图 ggplot 非常类似于

00:01:31.470 --> 00:01:34.090
qplot 函数 因为它采用相同的参数

00:01:34.090 --> 00:01:37.600
x 和 data 主要区别是

00:01:37.600 --> 00:01:41.130
我们需要将所有 x 和 y 变量

00:01:41.130 --> 00:01:44.440
包括在这个包装函数 aes 内 我们需要做的另一件事情

00:01:44.440 --> 00:01:46.860
就是告诉 ggplot 需要创建那种类型的图形

00:01:46.860 --> 00:01:50.010
或者我们需要哪种 geom 我们所需的 geom 就是

00:01:50.010 --> 00:01:53.590
Geom 直方图 运行这段代码 可以看到

00:01:53.590 --> 00:01:55.910
我获得原来的直方图 就是所创建的第一个

00:01:55.910 --> 00:01:59.230
好友数直方图 运行整行 可将这个

00:01:59.230 --> 00:02:02.440
直方图保存到 p1 现在 我获得一幅图形只需要

00:02:02.440 --> 00:02:06.220
使用标度进行更改 所以对于第二幅图 我将取第一幅图

00:02:06.220 --> 00:02:10.380
只是向其添加 scale_x_log10  

00:02:10.380 --> 00:02:13.620
这将使用以 10 为底的对数转换 x 轴 或者 x 变量

00:02:13.620 --> 00:02:16.970
同样对于第三幅图 我将添加标度 x 平方根

00:02:16.970 --> 00:02:19.940
现在 我不想在这里使用 p2

00:02:19.940 --> 00:02:22.140
因为我已经在上面使用了常用对数标度

00:02:22.140 --> 00:02:25.350
要将使用原始图形 添加标度 x 平方根

00:02:25.350 --> 00:02:28.170
现在保存所有图形 编写我们的网点排列函数

00:02:28.170 --> 00:02:32.330
我们得到的输出与以前相同

00:02:32.330 --> 00:02:34.285
现在基于 x 轴标签 这里有稍微差异

00:02:34.285 --> 00:02:36.720
我希望你看看能否搞定

00:02:36.720 --> 00:02:38.610
如果你不确定这些差异

00:02:38.610 --> 00:02:41.230
我将在下一个视频中解释

