WEBVTT
Kind: captions
Language: ja

00:00:00.340 --> 00:00:02.860
ヒストグラムを使った変数の分布の分析方法と

00:00:02.860 --> 00:00:06.720
可視化と数値データの要約とで
データに対する直感の正誤を確認する方法を見ました

00:00:06.720 --> 00:00:10.430
分布の比較ができるもう1つのタイプの図があり

00:00:10.430 --> 00:00:13.530
度数折れ線と言います

00:00:13.530 --> 00:00:17.490
度数折れ線はヒストグラムに似ていますが

00:00:17.490 --> 00:00:19.610
各数値をつなぐカーブを描きます

00:00:19.610 --> 00:00:22.130
それにより分布の形態やピークを

00:00:22.130 --> 00:00:25.590
より詳しく見ることが可能になります

00:00:25.590 --> 00:00:27.630
友達数を見ていた時の

00:00:27.630 --> 00:00:31.570
このコードを覚えているでしょうか

00:00:31.570 --> 00:00:35.300
このコードでユーザの友達数のヒストグラムを作成し

00:00:35.300 --> 00:00:37.970
facet＿wrapを与えて性別ごとに分けました

00:00:37.970 --> 00:00:41.070
平均して友達が多いのは男女どちらかは

00:00:41.070 --> 00:00:44.120
このヒストグラムでは分からなかったので

00:00:44.120 --> 00:00:46.800
数値データの要約を行いましょう

00:00:46.800 --> 00:00:49.710
このように横並びに2つ作成するのではなく

00:00:49.710 --> 00:00:53.950
度数折れ線を使えばヒストグラムを重ね合わせられます

00:00:53.950 --> 00:00:58.430
度数折れ線の作成には
同じコードをコピー・アンド・ペーストします

00:00:58.430 --> 00:01:01.550
qplotのデフォルト設定により

00:01:01.550 --> 00:01:04.000
＝のあとが1つの変数なら
１つのヒストグラムになるので

00:01:04.000 --> 00:01:06.800
度数折れ線を作るよう指定します

00:01:06.800 --> 00:01:09.220
この場合geomパラメータを用いて

00:01:10.220 --> 00:01:13.970
geom＝‘freqpoly’とすることで
違うタイプの図を作成でき

00:01:13.970 --> 00:01:17.600
性別で分割するfacet＿wrapは不要になります

00:01:17.600 --> 00:01:19.160
性別ごとの分布を作図するため

00:01:19.160 --> 00:01:21.950
qplot関数にcolorパラメータをつなぎ

00:01:21.950 --> 00:01:24.770
＝genderとなるよう設定していきます

00:01:24.770 --> 00:01:28.380
この部分をcolor＝genderとしていきます

00:01:28.380 --> 00:01:30.655
このコードを実行すると

00:01:30.655 --> 00:01:34.890
男性と女性の2つの度数折れ線が作られます

00:01:34.890 --> 00:01:37.790
性別が色分けされているので

00:01:37.790 --> 00:01:41.380
どちらの度数折れ線か判断することができます

00:01:41.380 --> 00:01:44.315
これは度数折れ線の利点です

00:01:44.315 --> 00:01:48.790
2つ以上の分布を一度に比較することができるのです

00:01:48.790 --> 00:01:51.260
ですがこの図も男性と女性どちらが

00:01:51.260 --> 00:01:54.440
平均して多くの友達がいるかには答えていません

00:01:54.440 --> 00:01:58.100
y軸を変えて度数ではなく割合を見てみましょう

00:01:58.100 --> 00:02:00.500
斬新な構文を使うので説明します

00:02:00.500 --> 00:02:03.340
この度数を変えるためy＝qplotとしていきます

00:02:03.340 --> 00:02:06.580
yパラメータのあとにこの表式をつなげます

00:02:06.580 --> 00:02:10.130
これでy軸が度数ではなく割合を示すようになります

00:02:10.130 --> 00:02:13.500
そしてコードがすっきり見えるように

00:02:13.500 --> 00:02:16.250
これを動かしていきます

00:02:16.250 --> 00:02:19.110
最後に図を正確に説明するラベルに変えます

00:02:19.110 --> 00:02:23.400
すべて整ったのでコードを実行して
違いを見ていきましょう

00:02:23.400 --> 00:02:25.450
この図をクローズアップすると

00:02:25.450 --> 00:02:28.270
y軸の目盛りを変えたことが分かり

00:02:28.270 --> 00:02:30.150
2つのラベルが見えます

00:02:30.150 --> 00:02:34.630
男性の方が女性より平均友達数が多く見えますが

00:02:34.630 --> 00:02:37.570
友達の少ない男性も多く存在しています

00:02:37.570 --> 00:02:40.770
おそらくこのグラフの尾の部分で

00:02:40.770 --> 00:02:44.750
女性が男性を追い越していると思われます

00:02:44.750 --> 00:02:47.810
このRstudioでグラフを動かしてx軸のどこで

00:02:47.810 --> 00:02:51.080
女性が男性に追いつくのか分析してみましょう

00:02:51.080 --> 00:02:54.900
limitsやbreaksを使ってさらに詳しく調べてください

00:02:54.900 --> 00:02:57.270
新しく学んだ構文も使ってみましょう

00:02:57.270 --> 00:03:00.050
課題は男女どちらがより多くのいいね！を

00:03:00.050 --> 00:03:02.180
出しているのか見つけることです

00:03:02.180 --> 00:03:04.770
度数折れ線グラフを作成して

00:03:04.770 --> 00:03:07.340
いろんな方法で調査してください

00:03:07.340 --> 00:03:11.040
最初の図が最終形である必要はありません

00:03:11.040 --> 00:03:13.460
納得するまでx軸のlimitsとbreaksを調整し

00:03:13.460 --> 00:03:15.780
いくつか図を作成してください

