WEBVTT
Kind: captions
Language: zh-CN

00:00:00.310 --> 00:00:02.430
当我们指定列的类型时

00:00:02.430 --> 00:00:06.430
我们限制了随后放入的值的类型

00:00:06.430 --> 00:00:09.150
如果我们说某列是整数型

00:00:09.150 --> 00:00:12.540
就不能向其中放入单词

00:00:12.540 --> 00:00:15.530
这很重要 因为如果我们之后想要计算合计之类的

00:00:15.530 --> 00:00:19.660
我们无法把一堆字符串相加得出数字

00:00:19.660 --> 00:00:20.960
但这或许不是我们

00:00:20.960 --> 00:00:23.860
想对列做出的唯一的限制

00:00:23.860 --> 00:00:27.220
设想我们在为一家零售店建立一个数据库

00:00:27.220 --> 00:00:30.750
在一个表格中 我们有一个待售产品的列表

00:00:30.750 --> 00:00:33.220
在另一个表格中 有一个所有已售产品的列表

00:00:33.220 --> 00:00:37.020
每当我们售出某样产品时 我们就向已售表格插入一个新行

00:00:37.020 --> 00:00:41.680
顺便说一下 这些列的名称 S-K-U 或 sku 只不过是

00:00:41.680 --> 00:00:45.160
库存单位的名称 它是一个 ID 号或代码 常常用于

00:00:45.160 --> 00:00:47.630
商店和仓库中的产品

00:00:48.630 --> 00:00:51.080
已售表格中的每个 SKU

00:00:51.080 --> 00:00:53.930
都关联产品表格中的一行

00:00:53.930 --> 00:00:56.200
但如果我们向已售表格中插入一行 而这一行

00:00:56.200 --> 00:00:59.110
与产品表格中的任何一行都不匹配 会出现什么情况？

00:00:59.110 --> 00:01:01.100
这是行不通的

00:01:01.100 --> 00:01:05.080
我们没有一个编号为23的产品 插入了这一行肯定是个错误

00:01:06.250 --> 00:01:11.350
数据库会捕捉到这个错误 但只有在我们告诉它的时候才可以

00:01:11.350 --> 00:01:15.070
当我们创建一个表格时 我们可以告诉数据库 某列的值

00:01:15.070 --> 00:01:18.330
只能关联另一个表格中的主键

00:01:18.330 --> 00:01:20.940
为了这样做 我们要使用关联关键字

00:01:20.940 --> 00:01:25.230
创建已售表格 sku 值 关联具体的产品

00:01:25.230 --> 00:01:27.590
如果两个表格中列的名称相同

00:01:27.590 --> 00:01:30.870
那么我们可以只用那个表格的名称

00:01:30.870 --> 00:01:33.770
否则 我们将使用表名 

00:01:33.770 --> 00:01:34.650
后跟列名和括号

00:01:34.650 --> 00:01:38.750
在这种情况下 实际上这是没必要的 因此我们不需要使用它

00:01:38.750 --> 00:01:42.590
因此一个关联约束有点像类型检查

00:01:42.590 --> 00:01:46.470
它捕捉那些有可能会让数据库失去意义的错误

00:01:46.470 --> 00:01:47.960
在数据库术语中

00:01:47.960 --> 00:01:51.890
关联约束帮助我们保持关联的完整性

00:01:51.890 --> 00:01:54.670
这可保证这一列中的值

00:01:54.670 --> 00:01:57.160
始终关联那一列中的值

