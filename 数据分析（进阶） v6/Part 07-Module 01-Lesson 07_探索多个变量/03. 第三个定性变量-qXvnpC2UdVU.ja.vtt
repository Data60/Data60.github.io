WEBVTT
Kind: captions
Language: ja

00:00:00.360 --> 00:00:02.000
この問題では

00:00:02.000 --> 00:00:05.860
この図を作成するためのデータフレームを作成します

00:00:05.860 --> 00:00:08.280
どうやってコードを作るか説明します

00:00:08.280 --> 00:00:11.140
まずdplyrパッケージを読み込んで

00:00:11.140 --> 00:00:14.040
これらの関数をつなげることをメモします

00:00:14.040 --> 00:00:16.010
なのでこのマークを使います

00:00:16.010 --> 00:00:19.450
データフレームを
pf．fc＿by＿age＿genderとして保存し

00:00:19.450 --> 00:00:23.120
すでにあるpfデータフレームを使って
グループ分けします

00:00:23.120 --> 00:00:28.180
ここに最初のチェーンコマンドを入れ
年齢と性別でグループ分けし

00:00:28.180 --> 00:00:32.119
友達数の平均値と中央値
そして各グループの人数nを出すために

00:00:32.119 --> 00:00:34.430
summarise関数を実行していきます

00:00:34.430 --> 00:00:38.460
summarise関数を実行すると
グループ分けの1つのレイヤが移動します

00:00:38.460 --> 00:00:41.030
なので性別のレイヤを移動します

00:00:41.030 --> 00:00:44.120
もう一度グループ化を解除して年齢のレイヤを移動し

00:00:44.120 --> 00:00:47.040
データフレームを年齢ごとにアレンジします

00:00:47.040 --> 00:00:50.630
全部そろったように見えますが
データの部分集合を取るのを忘れていました

00:00:50.630 --> 00:00:54.550
subsetコマンドも使えますが
ここではfilterコマンドをお見せします

00:00:54.550 --> 00:00:56.990
データにフィルタをかけると

00:00:56.990 --> 00:01:00.480
性別がNAと表示されている人々が取り除かれ

00:01:00.480 --> 00:01:04.180
あとはそれを他の関数につなげればいいのです

00:01:04.180 --> 00:01:07.160
コードを実行してデータフレームを確認します

00:01:07.160 --> 00:01:10.260
最初にライブラリの実行を忘れたようなので実行します

00:01:10.260 --> 00:01:12.700
新しいデータフレームがここにできたので

00:01:12.700 --> 00:01:15.660
何行か出力して正しいか確認しましょう

00:01:15.660 --> 00:01:18.610
headコマンドで最初の何行かをコンソールに出すと

00:01:18.610 --> 00:01:20.940
年齢と性別に分かれたグループと

00:01:20.940 --> 00:01:24.690
友達数の平均値、友達数の中央値、
グループの人数nが確認できます

